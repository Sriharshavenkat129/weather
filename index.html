<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather app</title>
    <link rel="icon" href="data:image/webp;base64,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">
    <style>
        body{
            background-color:lightgray;
            display: flex;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            font-size: large;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .weatherblock{
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 10px 10px;
            border-radius: 20px;
            background-color:white;
            box-shadow: 3px 3px 5px white;
        }
        .weatherform{
            padding: 10px;
            text-align: center;
        }
        #weathercity{
            background-color: rgba(255, 255, 255, 0.733);
            border: 2px solid gray;
            border-radius: 8px;
            font-size: 20px;
            text-align: center;
            margin-bottom: 5px;
        }
        button{
            height: 30px;
            width: 100%;
            border-radius: 10px; 
            cursor: pointer;
            font-size: 20px;
            border: none;
            background-color: rgb(160, 250, 26);
        }
        button:hover{
            background-color:rgb(0, 255, 0);
            transition: background-color 1s ease;
            border: 2px solid black;
            border-radius: 20px;
            transition:border-radius 1s ease;
        }
        button:active{
            background-color: greenyellow;
        }
        .card{
            text-align: center;
            background:linear-gradient(180deg,rgba(0, 174, 255, 0.703) ,rgba(255, 166, 0, 0.79));
            width: 70%;
            height: 100%;
            border-radius: 20px;
            box-shadow: 2px 2px 10px rgba(255, 166, 0, 0.582);
        }
        .card:hover{
            width: 70%;
            cursor: pointer;
            box-shadow: 3px 3px 10px rgba(0, 174, 255, 0.703)  ,-3px -3px 10px rgba(255, 166, 0, 0.833);
            transition: box-shadow 0.5s ease;
            animation-name: change;
            animation-duration: 1s;
            animation-iteration-count: 1;
            background:linear-gradient(36deg,rgba(7, 255, 7, 0.571)    ,rgba(255, 166, 0, 0.79));
        }
        @keyframes change {
            0%{
            background:linear-gradient(180deg,rgba(0, 174, 255, 0.703)  ,rgba(255, 166, 0, 0.79));
            }
            20%{
            background:linear-gradient(225eg,rgba(0, 174, 255, 0.703)  ,rgba(255, 166, 0, 0.79));
            }
            40%{
            background:linear-gradient(250deg,rgba(0, 174, 255, 0.703) ,rgba(255, 166, 0, 0.79));
            }
            60%{
            background:linear-gradient(275deg,rgba(7, 255, 7, 0.571)   ,rgba(255, 166, 0, 0.79));
            }
            80%{
            background:linear-gradient(300deg,rgba(7, 255, 7, 0.571)    ,rgba(255, 166, 0, 0.79));
            }
            100%{
            background:linear-gradient(330deg,rgba(7, 255, 7, 0.571)   ,rgba(255, 166, 0, 0.79));
            }
        }
        .cityname{
            font-family:'Times New Roman', Times, serif;
            font-weight: bolder;
            margin-bottom: 0px;
            font-size: 40px;
        }
        .temp{
            margin-top: 0px;
            font-size: 20px;
            font-weight: bold;
            border: none;
        }
        .humidity{
            font-size: 15px;
            border: none;
            margin: 0px;
            font-weight: bold;
        }
        .weather{
            font-size: 20px;
            border: none;
            margin: 0px;
            margin-bottom: 10px;
            font-weight: bold;
        }
        .image{
            font-size: 50px;
            border: none;
            margin: 0px;
        }
        </style>
</head>
<body>
    <div class="weatherblock">
    <form class="weatherform">
        <input type="text" placeholder="enter a city" id="weathercity"><br>
        <button type="submit">Generate</button>
    </form>
    <div class="card">
        <!--
        <h1 class="cityname">CITY</h1>
        <p class="temp">temp</p>
        <p class="humidity">humidity</p>
        <p class="image">‚òÄÔ∏è</p>
        <p class="weather">weather</p>
    -->
    </div>
    </div>

    <script>
        const weatherform=document.querySelector('.weatherform');
        const weathercity=document.getElementById('weathercity');
        const card=document.querySelector('.card');

        async function fetchdata(){
            const city=(String)(weathercity.value);
            if(city){
                const response=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=f35c9c22a00657bd6cb657b86d17aa16`);
                if(response.ok){
                    getdata(response);
                    }
                else{
                    errordisplay("unable to fetch data!");
                }
            }
            else{
                errordisplay("enter city name first!");
            }
        }
        async function getdata(response) {
            const data=await response.json();
            console.log(data);
            weathercard(data);
        }
        function weathercard(data){
            const name=data.name;
            const temp=data.main.temp;
            const humidity=data.main.humidity;
            const description=data.weather[0].description;
            const id=data.weather[0].id;
            console.log(name,temp,humidity,description,id);

            card.textContent="";

            const h1=document.createElement('h1');
            h1.textContent=name;
            h1.classList.add("cityname");

            const p1=document.createElement("p");
            p1.textContent=`${(temp-273.15).toFixed(1)}¬∞C`;
            p1.classList.add("temp");

            const p2=document.createElement("p");
            p2.textContent=`Humidity: ${humidity}`;
            p2.classList.add("humidity");

            const p3=document.createElement("p");
            p3.textContent=getimage(id);
            p3.classList.add("image");

            const p4=document.createElement("p");
            p4.textContent=description;
            p4.classList.add("weather")

            card.append(h1);
            card.append(p1);
            card.append(p2);
            card.append(p3);
            card.append(p4);
        }
        function getimage(id){
            switch(true){
                case (id>=200 && id<300):
                    return 'üåßÔ∏è';
                case (id>=300 && id<400):
                    return 'üåßÔ∏è';
                case (id>=500 && id<600):
                    return 'üåßÔ∏è';
                case (id>=600 && id<700):
                    return '‚ùÑÔ∏è';
                case (id>=700 && id<800):
                    return 'üçÉ';
                case (id==800):
                    return '‚òÄÔ∏è';
                case (id>800 && id<810):
                    return 'üí≠';
            }
        }
        function errordisplay(err){
            card.textContent="";
            const p=document.createElement("p");
            p.textContent=err;
            p.style.fontWeight='bold'
            p.style.fontSize='18px'
            card.append(p);
        }

        weatherform.addEventListener("submit",event=>{event.preventDefault();fetchdata()});
    </script>
</body>
</html>
